# История изменений

##### build_ubuntu_livecd.sh

v1.210326
- Добавлена установка временной зоны через `guestinfo.timezone` параметр

v1.210322
- Добавлен `sysctl`-параметр `kernel.panic` для автоматической перезагрузки виртуальной машины

v1.210318
- Исправлена ошибка с невозможность корректного выключения виртуальной машины из-за сообщения:
  `Please remove the installation medium, then press Enter:`

v1.210316
- Добавлена поддержка распаковки .tgz архивов из provision_files/
- Добавлена поддержка установки hostname виртуальной машины из `guestinfo.hostname` параметра
- Сетевые настройки теперь также передаются через `guestinfo` параметры, а не MAC-адрес
- Теперь по умолчанию используется `8.8.8.8` в качестве DNS сервера

##### control_vm_esxi.sh

v2.??????
- Добавлен вывод статуса обработанных виртуальных машин, вместо списка пропущенных
- Теперь все сообщения о статусах и ошибках выводятся в stderr
  (чтобы с помощью перенаправлений >/dev/null или 2>/dev/null можно было легко отключить лишний вывод)
- Добавлена команда 'migrate' для миграции виртуальной машины с одного гипервизора на другой

v2.210331
- Теперь при создании виртуальной машины её существование проверяется на всех гипервизорах, а не только
  на котором она будет создаваться (с помощью дополнительного ключа можно вернуть и прежнее поведение)
- Добавлен вывод списка (а не просто количества) пропущенных виртуальных машин при запуске команды 'create'
- Добавлена проверка на совпадение ipv4-адреса с ipv4-шлюзом в конфигурационном файле
- Исправлен дублирующий вывод ошибки при невозможности создания папки на гипервизоре для хранения ISO-образов
- Добавлена проверка дублирующихся определений ресурсов (гипервизоров или виртуальных машин) в конфигурационном файле

v1.210326
- Добавлен новый параметр виртуальной машины `vm_timezone`
- Отключено использование `vmxswap` для виртуальной машины в VMX-шаблоне
- Прекращено использование оператора `+=` для переопределения элементов ассоциативных массивов,
  т.к. в более ранних версиях `BASH`-интепретатора этот оператор не переопределял значение, а добавлял, если элемент
  массива уже существовал (проблема обнаружена в **bash v4.3.46** в составе `Ubuntu 16.04.2 LTS`)
- Прекращено использование `destination` формата (ssh://user@host:port) при вызове `SSH`-клиента
  для совместимости с более ранними версиями **OpenSSH** пакета, где этот формат ещё не поддерживался
  (проблема обнаружена в **openssh v7.2p2** в составе `Ubuntu 16.04.2 LTS`)
- В команду `ls` добавлено отображение параметров `vm_memory_mb` и `vm_vcpus`

v1.210316
- Добавлена установка параметра виртуальной машины `guestinfo.hostname`
- Сетевые настройки теперь также передаются через `guestinfo` параметры, а не MAC-адрес
- Добавлен параметр `StrictHostKeyChecking=no` для ssh
